<template name="App_home">
  <div class="container">
    <div class="top">
      <div class="titleBar">
        <span class="h1 title">recipes</span>
      </div>
      <div class="searchBar text-center">
        <input type="text" placeholder="search by name and diet preference" class="form-control searchInput"/>
        <!--<button type="button" class="btn btn-default filterButton">filter</button>-->
      </div>
    </div>
    {{#if noRecipes}}
      <div class="no_recipes">
        <h5 class="centered">Oh no! You don't have any recipes.</h5>
        <span class="centered no_recipes_instructions">Click on "+" to add your own recipes</span>
        <span class="centered no_recipes_instructions">or save recipes from "Discover"</span>
      </div>
    {{/if}}
  </div>
  <div class="bottom_element">
    {{#each recipeGroups}}
      {{> recipeGroup}}
    {{/each}}
  </div>

  <a href="/add" class="addButtonWrapper">
    <h2>+</h2>
  </a>

  {{> navigation_bar}}
  
  <!-- Google Analytics Content Experiment code -->
  <script>function utmx_section(){}function utmx(){}(function(){var
    k='165201803-0',d=document,l=d.location,c=d.cookie;
    if(l.search.indexOf('utm_expid='+k)>0)return;
    function f(n){if(c){var i=c.indexOf(n+'=');if(i>-1){var j=c.
    indexOf(';',i);return escape(c.substring(i+n.length+1,j<0?c.
    length:j))}}}var x=f('__utmx'),xx=f('__utmxx'),h=l.hash;d.write(
    '<sc'+'ript src="'+'http'+(l.protocol=='https:'?'s://ssl':
    '://www')+'.google-analytics.com/ga_exp.js?'+'utmxkey='+k+
    '&utmx='+(x?x:'')+'&utmxx='+(xx?xx:'')+'&utmxtime='+new Date().
    valueOf()+(h?'&utmxhash='+escape(h.substr(1)):'')+
    '" type="text/javascript" charset="utf-8"><\/sc'+'ript>')})();
    </script><script>utmx('url','A/B');</script>
    <!-- End of Google Analytics Content Experiment code -->
</template>

<!-- Display a Recipe -->
<template name="recipe">
  <a href="/view/{{_id}}" class="recipeItem">
    <div class="recipeOuter container">
      <div class="homeImage">
        {{#if foodImg}}
          <img class="homeRecipeImage" src="/cfs/files/images/{{foodImg}}"/>
        {{/if}}
      </div>
      <div class="recipeInner">
        <div class="recipeName">
          {{name}}
        </div>
        <div class="recipeDetails">
          {{time}} min | {{difficulty}} | {{meal}}
        </div>
      </div>
    </div>
  </a>
</template>

<template name="recipeGroup">
  {{#if recipes}}
    <div class="groupBar container">
      <span>{{name}}</span>
    </div>
    <div class="groupContent">
      {{#each recipes}}
        {{> recipe}}
      {{/each}}
    </div>
  {{/if}}
</template>
